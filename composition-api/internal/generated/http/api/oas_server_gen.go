// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CytologyCopyCreate implements CytologyCopyCreate operation.
	//
	// Создание нового исследования, на основе предыдущего.
	//
	// POST /cytology/copy
	CytologyCopyCreate(ctx context.Context, req *CytologyCopyCreateReq) (CytologyCopyCreateRes, error)
	// CytologyCreateCreate implements CytologyCreateCreate operation.
	//
	// Форма для сохранния цитологического изображения.
	//
	// POST /cytology/create
	CytologyCreateCreate(ctx context.Context, req *CytologyCreateCreateReq) (CytologyCreateCreateRes, error)
	// CytologyHistoryRead implements CytologyHistoryRead operation.
	//
	// Получить историю цитологического исследования.
	//
	// GET /cytology/history/{id}
	CytologyHistoryRead(ctx context.Context, params CytologyHistoryReadParams) (CytologyHistoryReadRes, error)
	// CytologyRead implements CytologyRead operation.
	//
	// Информация об одной группе снимков.
	//
	// GET /cytology/{id}
	CytologyRead(ctx context.Context, params CytologyReadParams) (CytologyReadRes, error)
	// CytologySegmentGroupCreateCreate implements CytologySegmentGroupCreateCreate operation.
	//
	// Создать группу сегментаций.
	//
	// POST /cytology/segment/group/create/{cytology_img_id}
	CytologySegmentGroupCreateCreate(ctx context.Context, req *CytologySegmentGroupCreateCreateReq, params CytologySegmentGroupCreateCreateParams) (CytologySegmentGroupCreateCreateRes, error)
	// CytologySegmentUpdateDelete implements CytologySegmentUpdateDelete operation.
	//
	// Удалить сегментацию.
	//
	// DELETE /cytology/segment/update/{id}
	CytologySegmentUpdateDelete(ctx context.Context, params CytologySegmentUpdateDeleteParams) (CytologySegmentUpdateDeleteRes, error)
	// CytologySegmentUpdatePartialUpdate implements CytologySegmentUpdatePartialUpdate operation.
	//
	// Обновить сегментацию.
	//
	// PATCH /cytology/segment/update/{id}
	CytologySegmentUpdatePartialUpdate(ctx context.Context, req *CytologySegmentUpdatePartialUpdateReq, params CytologySegmentUpdatePartialUpdateParams) (CytologySegmentUpdatePartialUpdateRes, error)
	// CytologySegmentUpdateRead implements CytologySegmentUpdateRead operation.
	//
	// Получить сегментацию.
	//
	// GET /cytology/segment/update/{id}
	CytologySegmentUpdateRead(ctx context.Context, params CytologySegmentUpdateReadParams) (CytologySegmentUpdateReadRes, error)
	// CytologySegmentUpdateUpdate implements CytologySegmentUpdateUpdate operation.
	//
	// Обновить сегментацию.
	//
	// PUT /cytology/segment/update/{id}
	CytologySegmentUpdateUpdate(ctx context.Context, req *CytologySegmentUpdateUpdateReq, params CytologySegmentUpdateUpdateParams) (CytologySegmentUpdateUpdateRes, error)
	// CytologySegmentsList implements CytologySegmentsList operation.
	//
	// Информация об одной группе снимков.
	//
	// GET /cytology/{id}/segments
	CytologySegmentsList(ctx context.Context, params CytologySegmentsListParams) (CytologySegmentsListRes, error)
	// CytologyUpdatePartialUpdate implements CytologyUpdatePartialUpdate operation.
	//
	// Обновление всей страницы с информацией о приеме.
	//
	// PATCH /cytology/{id}/update
	CytologyUpdatePartialUpdate(ctx context.Context, req *CytologyUpdatePartialUpdateReq, params CytologyUpdatePartialUpdateParams) (CytologyUpdatePartialUpdateRes, error)
	// CytologyUpdateUpdate implements CytologyUpdateUpdate operation.
	//
	// Обновление всей страницы с информацией о приеме.
	//
	// PUT /cytology/{id}/update
	CytologyUpdateUpdate(ctx context.Context, req *CytologyUpdateUpdateReq, params CytologyUpdateUpdateParams) (CytologyUpdateUpdateRes, error)
	// DownloadCytologyCytologyIDOriginalImageIDGet implements GET /download/cytology/{cytology_id}/{original_image_id} operation.
	//
	// Получить оригинальное изображение цитологического
	// исследования.
	//
	// GET /download/cytology/{cytology_id}/{original_image_id}
	DownloadCytologyCytologyIDOriginalImageIDGet(ctx context.Context, params DownloadCytologyCytologyIDOriginalImageIDGetParams) (DownloadCytologyCytologyIDOriginalImageIDGetRes, error)
	// DownloadUziIDImageIDGet implements GET /download/{uzi_id}/{image_id} operation.
	//
	// Получить кадр узи.
	//
	// GET /download/{uzi_id}/{image_id}
	DownloadUziIDImageIDGet(ctx context.Context, params DownloadUziIDImageIDGetParams) (DownloadUziIDImageIDGetRes, error)
	// LoginPost implements POST /login operation.
	//
	// Авторизация.
	//
	// POST /login
	LoginPost(ctx context.Context, req *LoginPostReq) (LoginPostRes, error)
	// MedCardDoctorIDPatientIDGet implements GET /med/card/{doctor_id}/{patient_id} operation.
	//
	// Получить карту пациента.
	//
	// GET /med/card/{doctor_id}/{patient_id}
	MedCardDoctorIDPatientIDGet(ctx context.Context, params MedCardDoctorIDPatientIDGetParams) (MedCardDoctorIDPatientIDGetRes, error)
	// MedCardDoctorIDPatientIDPatch implements PATCH /med/card/{doctor_id}/{patient_id} operation.
	//
	// Обновить карту пациента.
	//
	// PATCH /med/card/{doctor_id}/{patient_id}
	MedCardDoctorIDPatientIDPatch(ctx context.Context, req *MedCardDoctorIDPatientIDPatchReq, params MedCardDoctorIDPatientIDPatchParams) (MedCardDoctorIDPatientIDPatchRes, error)
	// MedCardPost implements POST /med/card operation.
	//
	// Создать карту пациента.
	//
	// POST /med/card
	MedCardPost(ctx context.Context, req *Card) (MedCardPostRes, error)
	// MedDoctorIDGet implements GET /med/doctor/{id} operation.
	//
	// Получить врача.
	//
	// GET /med/doctor/{id}
	MedDoctorIDGet(ctx context.Context, params MedDoctorIDGetParams) (MedDoctorIDGetRes, error)
	// MedDoctorIDPatientsGet implements GET /med/doctor/{id}/patients operation.
	//
	// Получить пациентов врача.
	//
	// GET /med/doctor/{id}/patients
	MedDoctorIDPatientsGet(ctx context.Context, params MedDoctorIDPatientsGetParams) (MedDoctorIDPatientsGetRes, error)
	// MedPatientIDGet implements GET /med/patient/{id} operation.
	//
	// Получить пациента.
	//
	// GET /med/patient/{id}
	MedPatientIDGet(ctx context.Context, params MedPatientIDGetParams) (MedPatientIDGetRes, error)
	// MedPatientIDPatch implements PATCH /med/patient/{id} operation.
	//
	// Обновить пациента.
	//
	// PATCH /med/patient/{id}
	MedPatientIDPatch(ctx context.Context, req *MedPatientIDPatchReq, params MedPatientIDPatchParams) (MedPatientIDPatchRes, error)
	// MedPatientPost implements POST /med/patient operation.
	//
	// Зарегистрировать пациента.
	//
	// POST /med/patient
	MedPatientPost(ctx context.Context, req *MedPatientPostReq) (MedPatientPostRes, error)
	// PaymentProvidersGet implements GET /payment_providers operation.
	//
	// Получить список всех платежных провайдеров.
	//
	// GET /payment_providers
	PaymentProvidersGet(ctx context.Context) (PaymentProvidersGetRes, error)
	// RefreshPost implements POST /refresh operation.
	//
	// Обновить access token.
	//
	// POST /refresh
	RefreshPost(ctx context.Context, req *RefreshPostReq) (RefreshPostRes, error)
	// RegDoctorPost implements POST /reg/doctor operation.
	//
	// Зарегистрировать врача (как пользователя).
	//
	// POST /reg/doctor
	RegDoctorPost(ctx context.Context, req *RegDoctorPostReq) (RegDoctorPostRes, error)
	// RegPatientPost implements POST /reg/patient operation.
	//
	// Зарегистрировать пациента (как пользователя).
	// **Сделано под мобилки api**. Врачам регистрировать
	// пациентов через /med/patient.
	//
	// POST /reg/patient
	RegPatientPost(ctx context.Context, req *RegPatientPostReq) (RegPatientPostRes, error)
	// SubscriptionsCheckActiveGet implements GET /subscriptions/check-active operation.
	//
	// Проверить наличие активной подписки у текущего
	// пользователя.
	//
	// GET /subscriptions/check-active
	SubscriptionsCheckActiveGet(ctx context.Context) (SubscriptionsCheckActiveGetRes, error)
	// SubscriptionsGetActiveGet implements GET /subscriptions/get-active operation.
	//
	// Получить информацию об активной подписке текущего
	// пользователя.
	//
	// GET /subscriptions/get-active
	SubscriptionsGetActiveGet(ctx context.Context) (SubscriptionsGetActiveGetRes, error)
	// SubscriptionsPurchasePost implements POST /subscriptions/purchase operation.
	//
	// Купить подписку.
	//
	// POST /subscriptions/purchase
	SubscriptionsPurchasePost(ctx context.Context, req *PurchaseSubscriptionRequest) (SubscriptionsPurchasePostRes, error)
	// TariffPlansGet implements GET /tariff_plans operation.
	//
	// Получить список всех тарифных планов.
	//
	// GET /tariff_plans
	TariffPlansGet(ctx context.Context) (TariffPlansGetRes, error)
	// TariffPlansIDGet implements GET /tariff_plans/{id} operation.
	//
	// Получить тарифный план по ID.
	//
	// GET /tariff_plans/{id}
	TariffPlansIDGet(ctx context.Context, params TariffPlansIDGetParams) (TariffPlansIDGetRes, error)
	// TilerDziFilePathFilesLevelColRowFormatGet implements TilerDziFilePathFilesLevelColRowFormatGet operation.
	//
	// Получить тайл изображения.
	//
	// GET /tiler/dzi/{file_path}/files/{level}/{col}_{row}.{format}
	TilerDziFilePathFilesLevelColRowFormatGet(ctx context.Context, params TilerDziFilePathFilesLevelColRowFormatGetParams) (TilerDziFilePathFilesLevelColRowFormatGetRes, error)
	// TilerDziFilePathGet implements TilerDziFilePathGet operation.
	//
	// Получить DZI XML метаданные для изображения.
	//
	// GET /tiler/dzi/{file_path}
	TilerDziFilePathGet(ctx context.Context, params TilerDziFilePathGetParams) (TilerDziFilePathGetRes, error)
	// UziDevicePost implements POST /uzi/device operation.
	//
	// Добавить uzi аппарат.
	//
	// POST /uzi/device
	UziDevicePost(ctx context.Context, req *UziDevicePostReq) (UziDevicePostRes, error)
	// UziDevicesGet implements GET /uzi/devices operation.
	//
	// Получит список uzi апппапапратов.
	//
	// GET /uzi/devices
	UziDevicesGet(ctx context.Context) (UziDevicesGetRes, error)
	// UziIDDelete implements DELETE /uzi/{id} operation.
	//
	// Удалить узи.
	//
	// DELETE /uzi/{id}
	UziIDDelete(ctx context.Context, params UziIDDeleteParams) (UziIDDeleteRes, error)
	// UziIDEchographicsGet implements GET /uzi/{id}/echographics operation.
	//
	// Получить эхографику uzi.
	//
	// GET /uzi/{id}/echographics
	UziIDEchographicsGet(ctx context.Context, params UziIDEchographicsGetParams) (UziIDEchographicsGetRes, error)
	// UziIDEchographicsPatch implements PATCH /uzi/{id}/echographics operation.
	//
	// Обновить эхографику.
	//
	// PATCH /uzi/{id}/echographics
	UziIDEchographicsPatch(ctx context.Context, req *Echographics, params UziIDEchographicsPatchParams) (UziIDEchographicsPatchRes, error)
	// UziIDGet implements GET /uzi/{id} operation.
	//
	// Получить узи.
	//
	// GET /uzi/{id}
	UziIDGet(ctx context.Context, params UziIDGetParams) (UziIDGetRes, error)
	// UziIDImagesGet implements GET /uzi/{id}/images operation.
	//
	// Получает списк изображений uzi.
	//
	// GET /uzi/{id}/images
	UziIDImagesGet(ctx context.Context, params UziIDImagesGetParams) (UziIDImagesGetRes, error)
	// UziIDNodesGet implements GET /uzi/{id}/nodes operation.
	//
	// Получить все узлы узи.
	//
	// GET /uzi/{id}/nodes
	UziIDNodesGet(ctx context.Context, params UziIDNodesGetParams) (UziIDNodesGetRes, error)
	// UziIDNodesSegmentsPost implements POST /uzi/{id}/nodes-segments operation.
	//
	// Добавить узел с сегментами.
	//
	// POST /uzi/{id}/nodes-segments
	UziIDNodesSegmentsPost(ctx context.Context, req *UziIDNodesSegmentsPostReq, params UziIDNodesSegmentsPostParams) (UziIDNodesSegmentsPostRes, error)
	// UziIDPatch implements PATCH /uzi/{id} operation.
	//
	// Обновить узи.
	//
	// PATCH /uzi/{id}
	UziIDPatch(ctx context.Context, req *UziIDPatchReq, params UziIDPatchParams) (UziIDPatchRes, error)
	// UziImageIDNodesSegmentsGet implements GET /uzi/image/{id}/nodes-segments operation.
	//
	// Получит узлы и сегменты на указанном изображении.
	//
	// GET /uzi/image/{id}/nodes-segments
	UziImageIDNodesSegmentsGet(ctx context.Context, params UziImageIDNodesSegmentsGetParams) (UziImageIDNodesSegmentsGetRes, error)
	// UziNodesIDDelete implements DELETE /uzi/nodes/{id} operation.
	//
	// Сегменты узла будут также удалены.
	//
	// DELETE /uzi/nodes/{id}
	UziNodesIDDelete(ctx context.Context, params UziNodesIDDeleteParams) (UziNodesIDDeleteRes, error)
	// UziNodesIDPatch implements PATCH /uzi/nodes/{id} operation.
	//
	// Обновить узел.
	//
	// PATCH /uzi/nodes/{id}
	UziNodesIDPatch(ctx context.Context, req *UziNodesIDPatchReq, params UziNodesIDPatchParams) (UziNodesIDPatchRes, error)
	// UziNodesIDSegmentsGet implements GET /uzi/nodes/{id}/segments operation.
	//
	// Получить сегменты узла.
	//
	// GET /uzi/nodes/{id}/segments
	UziNodesIDSegmentsGet(ctx context.Context, params UziNodesIDSegmentsGetParams) (UziNodesIDSegmentsGetRes, error)
	// UziPost implements POST /uzi operation.
	//
	// Загрузить узи на обработку.
	//
	// POST /uzi
	UziPost(ctx context.Context, req *UziPostReq) (UziPostRes, error)
	// UziSegmentIDDelete implements DELETE /uzi/segment/{id} operation.
	//
	// Если у узла не останется сегментов, он будет **удален**.
	//
	// DELETE /uzi/segment/{id}
	UziSegmentIDDelete(ctx context.Context, params UziSegmentIDDeleteParams) (UziSegmentIDDeleteRes, error)
	// UziSegmentIDPatch implements PATCH /uzi/segment/{id} operation.
	//
	// Обновить сегмент.
	//
	// PATCH /uzi/segment/{id}
	UziSegmentIDPatch(ctx context.Context, req *UziSegmentIDPatchReq, params UziSegmentIDPatchParams) (UziSegmentIDPatchRes, error)
	// UziSegmentPost implements POST /uzi/segment operation.
	//
	// Добавить новый сегмент.
	//
	// POST /uzi/segment
	UziSegmentPost(ctx context.Context, req *UziSegmentPostReq) (UziSegmentPostRes, error)
	// UzisAuthorIDGet implements GET /uzis/author/{id} operation.
	//
	// Получить узи по id автора.
	//
	// GET /uzis/author/{id}
	UzisAuthorIDGet(ctx context.Context, params UzisAuthorIDGetParams) (UzisAuthorIDGetRes, error)
	// UzisExternalIDGet implements GET /uzis/external/{id} operation.
	//
	// Получить узи по внешнему id.
	//
	// GET /uzis/external/{id}
	UzisExternalIDGet(ctx context.Context, params UzisExternalIDGetParams) (UzisExternalIDGetRes, error)
	// YookassaWebhooksPost implements POST /yookassa/webhooks operation.
	//
	// Обработка уведомлений от Юкассы.
	//
	// POST /yookassa/webhooks
	YookassaWebhooksPost(ctx context.Context, req *YookassaWebhookRequest) (YookassaWebhooksPostRes, error)
	// NewError creates *ErrorStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrorStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
